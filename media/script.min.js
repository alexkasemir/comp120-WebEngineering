$(document).ready(function(){function e(e){var t=null;if(document.cookie&&""!=document.cookie)for(var r=document.cookie.split(";"),n=0;n<r.length;n++){var o=jQuery.trim(r[n]);if(o.substring(0,e.length+1)==e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t}var t=$(".purrButton"),r=$(".grrButton");t.click(function(){function t(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)}var r=e("csrftoken"),n=$(this),o=n.next().first().text(),s=o.search("Score: ");s+=7;var c=o.substr(s);scoreInt=parseInt(c),scoreInt+=1;var i=o.substr(0,s)+" "+scoreInt;n.next().first().text(i);var u=n[0].id;$.ajaxSetup({beforeSend:function(e,n){t(n.type)||this.crossDomain||e.setRequestHeader("X-CSRFToken",r)}}),$.ajax({url:"like/"+u+"/",type:"POST",success:function(){console.log("Liked!")},error:function(){console.log("Like Failed :(")}})}),r.click(function(){function t(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)}var r=e("csrftoken"),n=$(this),o=n.prev().first().text(),s=o.search("Score: ");s+=7;var c=o.substr(s);scoreInt=parseInt(c),scoreInt-=1;var i=o.substr(0,s)+" "+scoreInt;n.prev().first().text(i),console.log(i);var u=n[0].id;$.ajaxSetup({beforeSend:function(e,n){t(n.type)||this.crossDomain||e.setRequestHeader("X-CSRFToken",r)}}),$.ajax({url:"dislike/"+u+"/",type:"POST",success:function(){console.log("disLiked!")},error:function(){console.log("disLike Failed :(")}})})});